
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Memprediksi Kelangsungan hidup seorang Pasien Pengidap Penyakit Sirosis &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PraUASnw';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Prediksi Risiko Kesehatan Ibu Hamil" href="UAS.html" />
    <link rel="prev" title="Mengistall Pandas terlebih dahulu" href="UTSPendataE.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpg" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.jpg" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat datang Di catatan Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="datamining.html">Data Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTSPendataE.html"><strong>Mengistall Pandas terlebih dahulu</strong></a></li>



<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Memprediksi Kelangsungan hidup seorang Pasien Pengidap Penyakit Sirosis</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="UAS.html"><strong>Prediksi Risiko Kesehatan Ibu Hamil</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FPraUASnw.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/PraUASnw.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Memprediksi Kelangsungan hidup seorang Pasien Pengidap Penyakit Sirosis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendahuluan"><strong>Pendahuluan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding"><strong>Data Understanding</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-data"><strong>Sumber Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengumpulkan-data-awal"><strong>Mengumpulkan data awal</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeskripsikan-data"><strong>Mendeskripsikan data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ekplorasi-data"><strong>Ekplorasi Data</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data"><strong>Preprocessing Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-menggunakan-knn-atau-model"><strong>Imputasi Menggunakan KNN atau Model</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi"><strong>Normalisasi</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengatasi-data-outlier-menggunakan-lof"><strong>Mengatasi data Outlier menggunakan LOF</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-data"><strong>Modelling data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-menggunakan-metode-naive-bayes"><strong>klasifikasi Menggunakan Metode Naive bayes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-dengan-metode-knn-dan-decision-tree"><strong>Perbandingan dengan metode KNN dan decision Tree</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi"><strong>Evaluasi</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="memprediksi-kelangsungan-hidup-seorang-pasien-pengidap-penyakit-sirosis">
<h1><strong>Memprediksi Kelangsungan hidup seorang Pasien Pengidap Penyakit Sirosis</strong><a class="headerlink" href="#memprediksi-kelangsungan-hidup-seorang-pasien-pengidap-penyakit-sirosis" title="Link to this heading">#</a></h1>
<section id="pendahuluan">
<h2><strong>Pendahuluan</strong><a class="headerlink" href="#pendahuluan" title="Link to this heading">#</a></h2>
<p>Sirosis adalah kondisi ketika organ hati telah dipenuhi dengan jaringan parut dan tidak bisa berfungsi dengan normal. Jaringan parut ini terbentuk akibat penyakit liver yang berkepanjangan, misalnya karena infeksi virus hepatitis atau kecanduan alkohol</p>
<p>Prediksi Kelangsungan Hidup Pasien Sirosis adalah memprediksi apakah seorang pasien yang menderita penyakit sirosis hati (liver cirrhosis) akan bertahan hidup dalam jangka waktu tertentu atau tidak, berdasarkan data klinis atau medis pasien tersebut.
Prediksi kelangsungan hidup pasien sirosis juga penting untuk membantu dokter menentukan tindakan medis, menetapkan prioritas transplantasi hati, serta memberikan gambaran prognosis bagi pasien dan keluarganya.</p>
</section>
<section id="data-understanding">
<h2><strong>Data Understanding</strong><a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h2>
<section id="sumber-data">
<h3><strong>Sumber Data</strong><a class="headerlink" href="#sumber-data" title="Link to this heading">#</a></h3>
<p>data diperoleh ini memanfaatkan 17 fitur klinis untuk memprediksi status kelangsungan hidup pasien dengan sirosis hati. Status kelangsungan hidup meliputi 0 = D (meninggal), 1 = C (disensor), 2 = CL (disensor karena transplantasi hati).</p>
<p>Berikut ini link dataset:<a class="reference external" href="https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1">https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting ucimlrepo
  Downloading ucimlrepo-0.0.7-py3-none-any.whl.metadata (5.5 kB)
Requirement already satisfied: pandas&gt;=1.0.0 in /usr/local/lib/python3.11/dist-packages (from ucimlrepo) (2.2.2)
Requirement already satisfied: certifi&gt;=2020.12.5 in /usr/local/lib/python3.11/dist-packages (from ucimlrepo) (2025.6.15)
Requirement already satisfied: numpy&gt;=1.23.2 in /usr/local/lib/python3.11/dist-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.0.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.17.0)
Downloading ucimlrepo-0.0.7-py3-none-any.whl (8.0 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: ucimlrepo
Successfully installed ucimlrepo-0.0.7
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengumpulkan-data-awal">
<h3><strong>Mengumpulkan data awal</strong><a class="headerlink" href="#mengumpulkan-data-awal" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ucimlrepo</span><span class="w"> </span><span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># fetch dataset</span>
<span class="n">cirrhosis_patient_survival_prediction</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">878</span><span class="p">)</span>

<span class="c1"># data (as pandas dataframes)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># metadata</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>

<span class="c1"># variable information</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;uci_id&#39;: 878, &#39;name&#39;: &#39;Cirrhosis Patient Survival Prediction&#39;, &#39;repository_url&#39;: &#39;https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1&#39;, &#39;data_url&#39;: &#39;https://archive.ics.uci.edu/static/public/878/data.csv&#39;, &#39;abstract&#39;: &#39;Utilize 17 clinical features for predicting survival state of patients with liver cirrhosis. The survival states include 0 = D (death), 1 = C (censored), 2 = CL (censored due to liver transplantation).&#39;, &#39;area&#39;: &#39;Health and Medicine&#39;, &#39;tasks&#39;: [&#39;Classification&#39;], &#39;characteristics&#39;: [&#39;Tabular&#39;], &#39;num_instances&#39;: 418, &#39;num_features&#39;: 17, &#39;feature_types&#39;: [&#39;Real&#39;, &#39;Categorical&#39;], &#39;demographics&#39;: [&#39;Age&#39;, &#39;Sex&#39;], &#39;target_col&#39;: [&#39;Status&#39;], &#39;index_col&#39;: [&#39;ID&#39;], &#39;has_missing_values&#39;: &#39;yes&#39;, &#39;missing_values_symbol&#39;: &#39;NaN&#39;, &#39;year_of_dataset_creation&#39;: 1989, &#39;last_updated&#39;: &#39;Fri Nov 03 2023&#39;, &#39;dataset_doi&#39;: &#39;10.24432/C5R02G&#39;, &#39;creators&#39;: [&#39;E. Dickson&#39;, &#39;P. Grambsch&#39;, &#39;T. Fleming&#39;, &#39;L. Fisher&#39;, &#39;A. Langworthy&#39;], &#39;intro_paper&#39;: {&#39;ID&#39;: 296, &#39;type&#39;: &#39;NATIVE&#39;, &#39;title&#39;: &#39;Prognosis in primary biliary cirrhosis: Model for decision making&#39;, &#39;authors&#39;: &#39;E. Dickson, P. Grambsch, T. Fleming, L. Fisher, A. Langworthy&#39;, &#39;venue&#39;: &#39;Hepatology&#39;, &#39;year&#39;: 1989, &#39;journal&#39;: None, &#39;DOI&#39;: None, &#39;URL&#39;: &#39;https://www.semanticscholar.org/paper/db1487216b8a4b26f5e5078ea9109ac9d8355b65&#39;, &#39;sha&#39;: None, &#39;corpus&#39;: None, &#39;arxiv&#39;: None, &#39;mag&#39;: None, &#39;acl&#39;: None, &#39;pmid&#39;: None, &#39;pmcid&#39;: None}, &#39;additional_info&#39;: {&#39;summary&#39;: &quot;During 1974 to 1984, 424 PBC patients referred to the Mayo Clinic qualified for the randomized placebo-controlled trial testing the drug D-penicillamine. Of these, the initial 312 patients took part in the trial and have mostly comprehensive data. The remaining 112 patients didn&#39;t join the clinical trial but agreed to record basic metrics and undergo survival tracking. Six of these patients were soon untraceable after their diagnosis, leaving data for 106 of these individuals in addition to the 312 who were part of the randomized trial.&quot;, &#39;purpose&#39;: &#39;Cirrhosis results from prolonged liver damage, leading to extensive scarring, often due to conditions like hepatitis or chronic alcohol consumption. The data provided is sourced from a Mayo Clinic study on primary biliary cirrhosis (PBC) of the liver carried out from 1974 to 1984.&#39;, &#39;funded_by&#39;: &#39;Mayo Clinic&#39;, &#39;instances_represent&#39;: &#39;People&#39;, &#39;recommended_data_splits&#39;: None, &#39;sensitive_data&#39;: &#39;Gender, Age&#39;, &#39;preprocessing_description&#39;: &#39;1. Drop all the rows where miss value (NA) were present in the Drug column\n2. Impute missing values with mean results\n3. One-hot encoding for all category attributes&#39;, &#39;variable_info&#39;: &#39;1. ID: unique identifier\n2. N_Days: number of days between registration and the earlier of death, transplantation, or study analysis time in July 1986\n3. Status: status of the patient C (censored), CL (censored due to liver tx), or D (death)\n4. Drug: type of drug D-penicillamine or placebo\n5. Age: age in [days]\n6. Sex: M (male) or F (female)\n7. Ascites: presence of ascites N (No) or Y (Yes)\n8. Hepatomegaly: presence of hepatomegaly N (No) or Y (Yes)\n9. Spiders: presence of spiders N (No) or Y (Yes)\n10. Edema: presence of edema N (no edema and no diuretic therapy for edema), S (edema present without diuretics, or edema resolved by diuretics), or Y (edema despite diuretic therapy)\n11. Bilirubin: serum bilirubin in [mg/dl]\n12. Cholesterol: serum cholesterol in [mg/dl]\n13. Albumin: albumin in [gm/dl]\n14. Copper: urine copper in [ug/day]\n15. Alk_Phos: alkaline phosphatase in [U/liter]\n16. SGOT: SGOT in [U/ml]\n17. Triglycerides: triglicerides in [mg/dl]\n18. Platelets: platelets per cubic [ml/1000]\n19. Prothrombin: prothrombin time in seconds [s]\n20. Stage: histologic stage of disease (1, 2, 3, or 4)\n&#39;, &#39;citation&#39;: &#39;Fleming, Thomas R., and David P. Harrington. Counting processes and survival analysis. Vol. 625. John Wiley &amp; Sons, 2013.&#39;}}
             name     role         type demographic  \
0              ID       ID      Integer        None   
1          N_Days    Other      Integer        None   
2          Status   Target  Categorical        None   
3            Drug  Feature  Categorical        None   
4             Age  Feature      Integer         Age   
5             Sex  Feature  Categorical         Sex   
6         Ascites  Feature  Categorical        None   
7    Hepatomegaly  Feature  Categorical        None   
8         Spiders  Feature  Categorical        None   
9           Edema  Feature  Categorical        None   
10      Bilirubin  Feature   Continuous        None   
11    Cholesterol  Feature      Integer        None   
12        Albumin  Feature   Continuous        None   
13         Copper  Feature      Integer        None   
14       Alk_Phos  Feature   Continuous        None   
15           SGOT  Feature   Continuous        None   
16  Tryglicerides  Feature      Integer        None   
17      Platelets  Feature      Integer        None   
18    Prothrombin  Feature   Continuous        None   
19          Stage  Feature  Categorical        None   

                                          description    units missing_values  
0                                   unique identifier     None             no  
1   number of days between registration and the ea...     None             no  
2   status of the patient C (censored), CL (censor...     None             no  
3             type of drug D-penicillamine or placebo     None            yes  
4                                                 age     days             no  
5                              M (male) or F (female)     None             no  
6               presence of ascites N (No) or Y (Yes)     None            yes  
7          presence of hepatomegaly N (No) or Y (Yes)     None            yes  
8               presence of spiders N (No) or Y (Yes)     None            yes  
9   presence of edema N (no edema and no diuretic ...     None             no  
10                                    serum bilirubin    mg/dl             no  
11                                  serum cholesterol    mg/dl            yes  
12                                            albumin    gm/dl             no  
13                                       urine copper   ug/day            yes  
14                               alkaline phosphatase  U/liter            yes  
15                                               SGOT     U/ml            yes  
16                                      tryglicerides     None            yes  
17                                platelets per cubic  ml/1000            yes  
18                                   prothrombin time        s            yes  
19        histologic stage of disease (1, 2, 3, or 4)     None            yes  
</pre></div>
</div>
</div>
</div>
</section>
<section id="mendeskripsikan-data">
<h3><strong>Mendeskripsikan data</strong><a class="headerlink" href="#mendeskripsikan-data" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Format Data</strong></p></li>
</ol>
<p>Dataset ini diunduh dari repositori UCI Machine Learning Repository menggunakan library ucimlrepo. Format data yang didapat adalah dataframe dari pustaka pandas, yang terdiri dari dua bagian utama:</p>
<ul class="simple">
<li><p>Features (X): berisi atribut atau variabel input yang digunakan untuk prediksi.</p></li>
<li><p>Targets (y): berisi label atau kelas target (kelangsungan hidup pasien).</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><strong>Jumlah Data</strong></p></li>
</ol>
<p>pada kumpulan data yang saya ambil terdapat berupa record (baris data) Jumlah: 418 pasien sedangkan jumlah atribut (kolom data): 20 fitur + 1 target = 21 kolom total</p>
<ol class="arabic simple" start="3">
<li><p><strong>Identitas Atribut (Field-field)</strong></p></li>
</ol>
<p>Beberapa atribut penting dalam dataset ini meliputi:</p>
<ul class="simple">
<li><p>Age: Usia pasien (dalam tahun)</p></li>
<li><p>Sex: Jenis kelamin pasien (M/F)</p></li>
<li><p>Bilirubin, Albumin, Prothrombin: Hasil laboratorium fungsi hati</p></li>
<li><p>Ascites, Hepatomegaly, Spiders, Edema: Gejala klinis atau kondisi fisik</p></li>
<li><p>Drug: Jenis pengobatan yang diterima</p></li>
<li><p>Status: Target klasifikasi, status akhir pasien (D = Deceased, C = Censored/Hidup)</p></li>
</ul>
<p>Atribut-atribut ini memiliki berbagai tipe data: numerik kontinu, kategori biner, dan kategori nominal.</p>
<ol class="arabic simple" start="4">
<li><p><strong>Karakteristik Data yang Terlihat</strong></p></li>
</ol>
<p>Terdapat kombinasi data numerik dan kategorikal, sehingga perlu pra-pemrosesan (normalisasi, encoding).Beberapa nilai missing ditemukan dalam fitur tertentu seperti Prothrombin dan Tryglicerides, sehingga perlu penanganan imputasi.Data cukup seimbang meskipun ada kecenderungan dominasi kelas tertentu (biasanya lebih banyak pasien meninggal).Terdapat fitur-fitur medis yang sangat relevan secara klinis untuk prediksi kelangsungan hidup.</p>
<ol class="arabic simple" start="5">
<li><p><strong>Kecocokan Data terhadap Kebutuhan Proyek</strong></p></li>
</ol>
<p>Dataset ini sangat sesuai untuk proyek klasifikasi prediksi kelangsungan hidup pasien sirosis karena:</p>
<ul class="simple">
<li><p>Memiliki atribut klinis yang kuat dan terukur.</p></li>
<li><p>Target kelas jelas dan dapat digunakan untuk supervised learning.</p></li>
<li><p>Jumlah data cukup representatif untuk model klasifikasi dasar hingga menengah.</p></li>
</ul>
</section>
<section id="ekplorasi-data">
<h3><strong>Ekplorasi Data</strong><a class="headerlink" href="#ekplorasi-data" title="Link to this heading">#</a></h3>
<p>Pada tahap eksplorasi data ini, bertujuan untuk memahami karakteristik data secara lebih mendalam melalui analisis statistik dan visualisasi, serta menemukan hipotesis awal yang berpotensi memengaruhi kelangsungan hidup pasien. Aktivitas ini mencakup analisis distribusi fitur, pencarian korelasi antar variabel, dan observasi pola visual yang muncul.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ucimlrepo</span><span class="w"> </span><span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNNImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gabungkan untuk kemudahan eksplorasi</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span>  <span class="c1"># &#39;D&#39; = Deceased, &#39;C&#39; = Censored</span>

<span class="c1"># Visualisasi distribusi target</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Status Pasien (Survive vs Deceased)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Korelasi antar fitur numerik</span>
<span class="n">df_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_corr</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_corr</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>  <span class="c1"># Encode target</span>
<span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">df_corr</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Heatmap Korelasi Antar Fitur&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Distribusi usia berdasarkan status</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Usia Pasien Berdasarkan Status&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Usia&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot Bilirubin dan Albumin berdasarkan status</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Bilirubin&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Bilirubin berdasarkan Status&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Albumin&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Albumin berdasarkan Status&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Distribusi fitur kategorikal: Ascites dan Spiders</span>
<span class="n">categorical_features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Ascites&quot;</span><span class="p">,</span> <span class="s2">&quot;Spiders&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">categorical_features</span><span class="p">:</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Distribusi </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s2"> berdasarkan Status&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d318d70dbdd426cf87258a8a83aa371ba6232ae33369421f455a358464483670.png" src="_images/d318d70dbdd426cf87258a8a83aa371ba6232ae33369421f455a358464483670.png" />
<img alt="_images/6a9d21d70dc70557253d51ff2686beafac970ff45c36056e0e2d2f591cd8d4c4.png" src="_images/6a9d21d70dc70557253d51ff2686beafac970ff45c36056e0e2d2f591cd8d4c4.png" />
<img alt="_images/29e289033e49145998865aca073b3f551c83b57ee229265a652464d3c6975c98.png" src="_images/29e289033e49145998865aca073b3f551c83b57ee229265a652464d3c6975c98.png" />
<img alt="_images/6f4de1d37b8aa1d66fe62efa897db84a73afad90124b18ba538f08e2597ee00f.png" src="_images/6f4de1d37b8aa1d66fe62efa897db84a73afad90124b18ba538f08e2597ee00f.png" />
<img alt="_images/c12eb595365d4623edb79727f768fa21b146775bc187e433f477940d1a28c06c.png" src="_images/c12eb595365d4623edb79727f768fa21b146775bc187e433f477940d1a28c06c.png" />
<img alt="_images/e42502f310195f74112aa85bd5a2376a74a84e2d9734962c969d5a0b001ee724.png" src="_images/e42502f310195f74112aa85bd5a2376a74a84e2d9734962c969d5a0b001ee724.png" />
</div>
</div>
</section>
</section>
<section id="preprocessing-data">
<h2><strong>Preprocessing Data</strong><a class="headerlink" href="#preprocessing-data" title="Link to this heading">#</a></h2>
<p>pada proses ini data yang tadinya dikumpulkan, didefinisikan dll dalam proses data understanding langkah selanjutnya yaitu preprocessing data yang mana data ini kita mendeteksi data yang terindikasi outlier (jika ditemukan), Misiing value dll. harapannya setelah proses ini kita tau data yang kotor itu mana dan ada berapa serta data yang missing value itu mana dan ada berapa.</p>
<p>Berikut ini kita implmentasikan prosesnya dalam bentuk code program:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ambil dataset</span>
<span class="n">cirrhosis_data</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">878</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cirrhosis_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cirrhosis_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Cek data yang memiliki missing value</span>
<span class="n">df_missing</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Data yang Memiliki Missing Value ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_missing</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Jumlah Missing Value per Kolom ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># Bersihkan data dari missing value</span>
<span class="n">df_cleaned</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Tentukan kolom numerik</span>
<span class="n">numeric_columns</span> <span class="o">=</span> <span class="n">df_cleaned</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span> <span class="s2">&quot;float64&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Fungsi hapus outlier dan tampilkan</span>
<span class="k">def</span><span class="w"> </span><span class="nf">remove_outliers_iqr_show</span><span class="p">(</span><span class="n">dataframe</span><span class="p">,</span> <span class="n">numeric_cols</span><span class="p">):</span>
    <span class="n">cleaned_df</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">outlier_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">numeric_cols</span><span class="p">:</span>
        <span class="n">Q1</span> <span class="o">=</span> <span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
        <span class="n">Q3</span> <span class="o">=</span> <span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
        <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
        <span class="n">lower</span> <span class="o">=</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
        <span class="n">upper</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
        <span class="n">outliers</span> <span class="o">=</span> <span class="n">cleaned_df</span><span class="p">[(</span><span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lower</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">upper</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: Ditemukan </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span><span class="si">}</span><span class="s2"> outlier&quot;</span><span class="p">)</span>
        <span class="n">outlier_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">outlier_data</span><span class="p">,</span> <span class="n">outliers</span><span class="p">])</span>
        <span class="n">cleaned_df</span> <span class="o">=</span> <span class="n">cleaned_df</span><span class="p">[(</span><span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">lower</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">cleaned_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">upper</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">cleaned_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">outlier_data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># Deteksi dan simpan outlier</span>
<span class="n">df_no_outlier</span><span class="p">,</span> <span class="n">outlier_rows</span> <span class="o">=</span> <span class="n">remove_outliers_iqr_show</span><span class="p">(</span><span class="n">df_cleaned</span><span class="p">,</span> <span class="n">numeric_columns</span><span class="p">)</span>

<span class="c1"># Tampilkan outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Data yang Terdeteksi sebagai Outlier ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outlier_rows</span><span class="p">)</span>

<span class="c1"># Jumlah total baris unik yang merupakan outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah total outlier unik: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">outlier_rows</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Data yang Memiliki Missing Value ===
     Drug    Age Sex Ascites Hepatomegaly Spiders Edema  Bilirubin  \
312  NaNN  21915   F    NaNN         NaNN    NaNN     N        0.7   
313   NaN  23741   F     NaN          NaN     NaN     S        1.4   
314   NaN  19724   F     NaN          NaN     NaN     N        0.7   
315   NaN  27394   F     NaN          NaN     NaN     S        0.7   
316   NaN  22646   F     NaN          NaN     NaN     N        0.8   
..    ...    ...  ..     ...          ...     ...   ...        ...   
413   NaN  24472   F     NaN          NaN     NaN     N        1.2   
414   NaN  14245   F     NaN          NaN     NaN     N        0.9   
415   NaN  20819   F     NaN          NaN     NaN     N        1.6   
416   NaN  21185   F     NaN          NaN     NaN     N        0.8   
417   NaN  19358   F     NaN          NaN     NaN     N        0.7   

    Cholesterol  Albumin Copper  Alk_Phos  SGOT Tryglicerides Platelets  \
312         NaN     3.65    NaN       NaN   NaN           NaN       378   
313         NaN     3.04    NaN       NaN   NaN           NaN       331   
314         NaN     4.03    NaN       NaN   NaN           NaN       226   
315         NaN     3.96    NaN       NaN   NaN           NaN       NaN   
316         NaN     2.48    NaN       NaN   NaN           NaN       273   
..          ...      ...    ...       ...   ...           ...       ...   
413         NaN     2.96    NaN       NaN   NaN           NaN       174   
414         NaN     3.83    NaN       NaN   NaN           NaN       180   
415         NaN     3.42    NaN       NaN   NaN           NaN       143   
416         NaN     3.75    NaN       NaN   NaN           NaN       269   
417         NaN     3.29    NaN       NaN   NaN           NaN       350   

     Prothrombin  Stage Status  
312         11.0    NaN      C  
313         12.1    4.0      D  
314          9.8    4.0      C  
315         11.3    4.0      D  
316         10.0    NaN      C  
..           ...    ...    ...  
413         10.9    3.0      D  
414         11.2    4.0      C  
415          9.9    3.0      C  
416         10.4    3.0      C  
417         10.6    4.0      C  

[106 rows x 18 columns]

=== Jumlah Missing Value per Kolom ===
Drug             105
Age                0
Sex                0
Ascites          105
Hepatomegaly     105
Spiders          105
Edema              0
Bilirubin          0
Cholesterol      106
Albumin            0
Copper           106
Alk_Phos         106
SGOT             106
Tryglicerides    106
Platelets          7
Prothrombin        2
Stage              6
Status             0
dtype: int64
Age: Ditemukan 1 outlier
Bilirubin: Ditemukan 31 outlier
Albumin: Ditemukan 9 outlier
Alk_Phos: Ditemukan 29 outlier
SGOT: Ditemukan 7 outlier
Prothrombin: Ditemukan 10 outlier
Stage: Ditemukan 0 outlier

=== Data yang Terdeteksi sebagai Outlier ===
                Drug    Age Sex Ascites Hepatomegaly Spiders Edema  Bilirubin  \
252  D-penicillamine  28650   M       Y            Y       Y     N        7.1   
0    D-penicillamine  21464   F       Y            Y       Y     Y       14.5   
9            Placebo  25772   F       Y            N       Y     Y       12.6   
17   D-penicillamine  19698   F       N            Y       Y     Y       11.4   
22           Placebo  20442   F       Y            Y       Y     Y       17.4   
..               ...    ...  ..     ...          ...     ...   ...        ...   
106          Placebo  22836   F       N            N       N     N        0.6   
120          Placebo  24803   M       Y            Y       N     Y        1.3   
122  D-penicillamine  16736   F       N            Y       Y     Y        5.1   
130          Placebo  22646   F       N            Y       Y     N        2.8   
185  D-penicillamine  25873   F       N            N       Y     S        2.0   

    Cholesterol  Albumin Copper  Alk_Phos    SGOT Tryglicerides Platelets  \
252         243     3.03    380     983.0  158.10           154        97   
0           261     2.60    156    1718.0  137.95           172       190   
9           200     2.74    140     918.0  147.25           143       302   
17          178     2.80    588     961.0  280.55           200       283   
22          395     2.94    558    6064.8  227.04           191       214   
..          ...      ...    ...       ...     ...           ...       ...   
106         212     4.03     10     648.0   71.30            77       316   
120         151     3.08     73    1112.0   46.50            49       213   
122        NaNN     3.23     18     790.0  179.80          NaNN       104   
130         242     3.80     74     614.0  136.40           104       121   
185         225     3.53     51     933.0   69.75            62       200   

     Prothrombin  Stage Status  
252         11.2    4.0      C  
0           12.2    4.0      D  
9           11.5    4.0      D  
17          12.4    4.0      D  
22          11.7    4.0      D  
..           ...    ...    ...  
106         17.1    1.0      C  
120         13.2    4.0      D  
122         13.0    4.0      D  
130         13.2    4.0      D  
185         12.7    3.0      D  

[87 rows x 18 columns]

Jumlah total outlier unik: 87
</pre></div>
</div>
</div>
</div>
<p>Setelah Data-data dideteksi ternyata ada data yang outlier dan missing value, kita fokus kan dulu untuk mengatasi missing value nya terlebih dahulu.cara nya ada banyak untuk imputasi missing value salah satunya dengan imputasi menggunakan KNN atau model.</p>
<section id="imputasi-menggunakan-knn-atau-model">
<h3><strong>Imputasi Menggunakan KNN atau Model</strong><a class="headerlink" href="#imputasi-menggunakan-knn-atau-model" title="Link to this heading">#</a></h3>
<p>KNN Imputer adalah metode imputasi yang mengisi nilai hilang berdasarkan rata-rata dari data yang paling mirip (tetangga terdekat). Dalam data prediksi kelangsungan hidup pasien sirosis, metode ini digunakan karena mempertahankan sebanyak mungkin data tanpa menghapus baris yang memiliki missing value. Dengan mempertimbangkan kemiripan antar pasien berdasarkan fitur medis lain, nilai yang diisi menjadi lebih akurat dan relevan. Hal ini penting agar model klasifikasi yang dibangun memiliki kualitas data yang baik dan tidak kehilangan informasi penting dari pasien. berikut implementasi dalam bentuk code program:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Ambil dataset</span>
<span class="n">cirrhosis_data</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">878</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cirrhosis_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cirrhosis_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># 2. Gabungkan fitur dan target</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 3. Encode kolom kategorikal sebelum imputasi</span>
<span class="n">df_encoded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># Simpan mapping encoder agar nanti bisa dikembalikan ke label aslinya</span>
<span class="n">label_encoders</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_cols</span><span class="p">:</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">df_encoded</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_encoded</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
    <span class="n">label_encoders</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span>

<span class="c1"># 4. Terapkan KNN Imputer</span>
<span class="n">imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df_imputed_array</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_encoded</span><span class="p">)</span>
<span class="n">df_imputed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_imputed_array</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># 5. Kembalikan nilai kategorikal ke bentuk label (opsional)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_cols</span><span class="p">:</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">label_encoders</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
    <span class="n">df_imputed</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">df_imputed</span><span class="p">[</span><span class="n">col</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">df_imputed</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">df_imputed</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

<span class="c1"># 6. Cek apakah masih ada missing value</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Cek Missing Value Setelah Imputasi ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_imputed</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># 7. Tampilkan 5 data pertama</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Contoh Data Setelah Imputasi ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_imputed</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total missing value setelah imputasi:&quot;</span><span class="p">,</span> <span class="n">df_imputed</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Cek Missing Value Setelah Imputasi ===
Drug             0
Age              0
Sex              0
Ascites          0
Hepatomegaly     0
Spiders          0
Edema            0
Bilirubin        0
Cholesterol      0
Albumin          0
Copper           0
Alk_Phos         0
SGOT             0
Tryglicerides    0
Platelets        0
Prothrombin      0
Stage            0
Status           0
dtype: int64

=== Contoh Data Setelah Imputasi ===
              Drug      Age Sex Ascites Hepatomegaly Spiders Edema  Bilirubin  \
0  D-penicillamine  21464.0   F       Y            Y       Y     Y       14.5   
1  D-penicillamine  20617.0   F       N            Y       Y     N        1.1   
2  D-penicillamine  25594.0   M       N            N       N     S        1.4   
3  D-penicillamine  19994.0   F       N            Y       Y     S        1.8   
4          Placebo  13918.0   F       N            Y       Y     N        3.4   

  Cholesterol  Albumin Copper  Alk_Phos    SGOT Tryglicerides Platelets  \
0         261     2.60    156    1718.0  137.95           172       190   
1         302     4.14     54    7394.8  113.52            88       221   
2         176     3.48    210     516.0   96.10            55       151   
3         244     2.54     64    6121.8   60.63            92       183   
4         279     3.53    143     671.0  113.15            72       136   

   Prothrombin  Stage Status  
0         12.2    4.0      D  
1         10.6    3.0      C  
2         12.0    4.0      D  
3         10.3    4.0      D  
4         10.9    3.0     CL  

Total missing value setelah imputasi: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setelah imputasi dan pengembalian label</span>
<span class="n">total_missing</span> <span class="o">=</span> <span class="n">df_imputed</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="k">if</span> <span class="n">total_missing</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">df_imputed</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Simpan ke file</span>
<span class="n">df_imputed</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;sirosis.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>setelah data bersih dari NAN disimpan di file sirosis.csv</p>
<p>Setelah dilakukan proses imputasi missing outlier diatas tadi dirasa masih kurang maksimal dan kualitas data masih belum bagus maka kita lakukan <em>normalisasi</em>.pada tahap ini banyak metode yang dilakukan salah satunya <em>Min-Max Scaling</em>.</p>
</section>
<section id="normalisasi">
<h3><strong>Normalisasi</strong><a class="headerlink" href="#normalisasi" title="Link to this heading">#</a></h3>
<p>Normalisasi pada proses data ini dilakukan untuk menyetarakan skala nilai dari setiap fitur numerik agar berada dalam rentang 0 hingga 1 menggunakan metode Min-Max Scaling. Langkah ini penting karena data medis seperti pada dataset prediksi kelangsungan hidup pasien sirosis memiliki variabel dengan skala yang sangat berbeda, seperti umur, kadar bilirubin, dan albumin. Dengan menyamakan skala, algoritma pembelajaran mesin seperti K-Nearest Neighbors dapat memberikan bobot yang seimbang terhadap semua fitur, sehingga meningkatkan akurasi dan stabilitas model. Normalisasi dilakukan setelah proses imputasi missing value agar tidak terjadi distorsi pada nilai yang telah diisi sebelumnya. Berikut kita implementasikan dalam bentuk code program.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_normalized</span> <span class="o">=</span> <span class="n">df_imputed</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">df_normalized</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span> <span class="s2">&quot;float64&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">])</span>

<span class="c1"># 7. Tampilkan hasil normalisasi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Ringkasan Setelah Imputasi dan Normalisasi ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_normalized</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Cek bahwa semua numerik berada di antara 0 dan 1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Range Kolom Numerik Setelah Normalisasi ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Ringkasan Setelah Imputasi dan Normalisasi ===
              Drug       Age Sex Ascites Hepatomegaly Spiders Edema  \
0  D-penicillamine  0.622822   F       Y            Y       Y     Y   
1  D-penicillamine  0.578364   F       N            Y       Y     N   
2  D-penicillamine  0.839597   M       N            N       N     S   
3  D-penicillamine  0.545664   F       N            Y       Y     S   
4          Placebo  0.226748   F       N            Y       Y     N   

   Bilirubin Cholesterol   Albumin Copper  Alk_Phos      SGOT Tryglicerides  \
0   0.512635         261  0.238806    156  0.105279  0.258993           172   
1   0.028881         302  0.813433     54  0.523509  0.202298            88   
2   0.039711         176  0.567164    210  0.016724  0.161871            55   
3   0.054152         244  0.216418     64  0.429723  0.079554            92   
4   0.111913         279  0.585821    143  0.028143  0.201439            72   

  Platelets  Prothrombin     Stage Status  
0       190     0.355556  1.000000      D  
1       221     0.177778  0.666667      C  
2       151     0.333333  1.000000      D  
3       183     0.144444  1.000000      D  
4       136     0.211111  0.666667     CL  

=== Range Kolom Numerik Setelah Normalisasi ===
              Age   Bilirubin     Albumin    Alk_Phos        SGOT  \
count  418.000000  418.000000  418.000000  418.000000  418.000000   
mean     0.468998    0.105445    0.573672    0.124780    0.226584   
std      0.200286    0.159116    0.158571    0.139088    0.117217   
min      0.000000    0.000000    0.000000    0.000000    0.000000   
25%      0.317368    0.018051    0.478545    0.053045    0.145916   
50%      0.473966    0.039711    0.585821    0.089020    0.215827   
75%      0.612770    0.111913    0.675373    0.135559    0.280576   
max      1.000000    1.000000    1.000000    1.000000    1.000000   

       Prothrombin       Stage  
count   418.000000  418.000000  
mean      0.192483    0.674641  
std       0.113314    0.292112  
min       0.000000    0.000000  
25%       0.111111    0.333333  
50%       0.177778    0.666667  
75%       0.233333    1.000000  
max       1.000000    1.000000  
</pre></div>
</div>
</div>
</div>
<p>selanjutnya permasalahan dalam data ini ada 2 yaitu Missing value dan data outlier dan kita tadi sudah menyelesaikan untuk permasalahan missing value sekarang kita lanjut mengatasi permasalahan data outlier. caranya kita filter data yang terdeteksi oulier menggunakan metode <em>LOF (Local Outlier Factor)</em>.</p>
</section>
<section id="mengatasi-data-outlier-menggunakan-lof">
<h3><strong>Mengatasi data Outlier menggunakan LOF</strong><a class="headerlink" href="#mengatasi-data-outlier-menggunakan-lof" title="Link to this heading">#</a></h3>
<p>Local Outlier Factor (LOF) adalah metode deteksi outlier berbasis kepadatan lokal yang digunakan untuk mengidentifikasi data yang memiliki kepadatan jauh lebih rendah dibandingkan dengan tetangga terdekatnya. Dalam tahap ini, LOF digunakan untuk mendeteksi dan mengatasi outlier pada data prediksi kelangsungan hidup pasien sirosis setelah data mengalami imputasi dan normalisasi. Penggunaan LOF sangat relevan karena data medis sering memiliki nilai ekstrim yang tidak wajar akibat kesalahan pencatatan atau kondisi pasien yang sangat langka. LOF membandingkan jarak dan kepadatan lokal suatu titik terhadap tetangganya (dengan parameter n_neighbors), lalu memberikan skor yang menunjukkan apakah titik tersebut merupakan outlier. Dengan menghapus data yang diberi label outlier oleh LOF, kualitas data meningkat dan model pembelajaran mesin berikutnya dapat bekerja lebih akurat dan stabil tanpa dipengaruhi data ekstrem yang menyimpang.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Deteksi Outlier dengan LOF</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Tahap 4: Deteksi Outlier dengan LOF ===&quot;</span><span class="p">)</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>  <span class="c1"># 5% asumsi outlier</span>
<span class="n">X_numeric</span> <span class="o">=</span> <span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span>
<span class="n">y_pred_lof</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X_numeric</span><span class="p">)</span>

<span class="c1"># -1 berarti outlier, 1 berarti inlier</span>
<span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred_lof</span>
<span class="n">outlier_count</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah data yang terdeteksi sebagai outlier oleh LOF: </span><span class="si">{</span><span class="n">outlier_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Hapus Outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Tahap 5: Hapus Outlier ===&quot;</span><span class="p">)</span>
<span class="n">df_no_outlier_lof</span> <span class="o">=</span> <span class="n">df_normalized</span><span class="p">[</span><span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data setelah menghapus outlier:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_no_outlier_lof</span><span class="p">))</span>

<span class="c1"># Contoh data akhir</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Contoh 5 Data Setelah Menghapus Outlier ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_no_outlier_lof</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="n">lof_check</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">check_pred</span> <span class="o">=</span> <span class="n">lof_check</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_no_outlier_lof</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">])</span>

<span class="c1"># Hitung outlier yang masih muncul</span>
<span class="n">remaining_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">check_pred</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Sisa outlier yang terdeteksi setelah pembersihan: </span><span class="si">{</span><span class="n">remaining_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Tahap 4: Deteksi Outlier dengan LOF ===
Jumlah data yang terdeteksi sebagai outlier oleh LOF: 21

=== Tahap 5: Hapus Outlier ===
Jumlah data setelah menghapus outlier: 397

=== Contoh 5 Data Setelah Menghapus Outlier ===
              Drug       Age Sex Ascites Hepatomegaly Spiders Edema  \
0  D-penicillamine  0.622822   F       Y            Y       Y     Y   
1  D-penicillamine  0.839597   M       N            N       N     S   
2          Placebo  0.226748   F       N            Y       Y     N   
3          Placebo  0.766481   F       N            Y       N     N   
4          Placebo  0.560886   F       N            Y       N     N   

   Bilirubin Cholesterol   Albumin Copper  Alk_Phos      SGOT Tryglicerides  \
0   0.512635         261  0.238806    156  0.105279  0.258993           172   
1   0.039711         176  0.567164    210  0.016724  0.161871            55   
2   0.111913         279  0.585821    143  0.028143  0.201439            72   
3   0.018051         248  0.753731     50  0.048256  0.154676            63   
4   0.025271         322  0.794776     52  0.039415  0.079137           213   

  Platelets  Prothrombin     Stage Status  
0       190     0.355556  1.000000      D  
1       151     0.333333  1.000000      D  
2       136     0.211111  0.666667     CL  
3      NaNN     0.222222  0.666667      D  
4       204     0.077778  0.666667      C  

Sisa outlier yang terdeteksi setelah pembersihan: 20
</pre></div>
</div>
</div>
</div>
<p>setelah tahapan-tahapan Preprocessing data tadi telah dilakukan, Proses selanjutnya yaitu Modelling data,</p>
</section>
</section>
<section id="modelling-data">
<h2><strong>Modelling data</strong><a class="headerlink" href="#modelling-data" title="Link to this heading">#</a></h2>
<p>Dalam proses Modelling data yang perlu diperhatikan itu mengenai data. data harus sudah bersih dari kotoran (outlier,missing value dll). ada beberapa jenis model yang dapat digunakan namun harus menyesuaikam dengan data yang dipakai dan bergantung juga pada masalahnya apa. diantaranya sebagai berikut:</p>
<ul class="simple">
<li><p>Klasifikasi: Logistic Regression, Decision Tree, Random Forest, SVM, Naive Bayes, KNN, dll.</p></li>
<li><p>Regresi: Linear Regression, Ridge/Lasso, SVR, Random Forest Regressor</p></li>
<li><p>Clustering: K-Means, DBSCAN, Hierarchical</p></li>
<li><p>Anomali: LOF, Isolation Forest</p></li>
</ul>
<p>Pada data ini kita akan menggunakan Klasifikasi dengan Naive Bayes.</p>
<section id="klasifikasi-menggunakan-metode-naive-bayes">
<h3><strong>klasifikasi Menggunakan Metode Naive bayes</strong><a class="headerlink" href="#klasifikasi-menggunakan-metode-naive-bayes" title="Link to this heading">#</a></h3>
<p>Naïve Bayes adalah salah satu algoritma yang umum digunakan dalam penambangan data (data mining) dan machine learning, terutama untuk klasifikasi. pada data ini kita gunakan metode ini karena dianggap sangat efisien dan bagus.Implementasi Tahapan-tahapannya sebagai berikut:</p>
<p><strong>Tahap 1:Pisahkan Fitur (X) dan Target (y)</strong></p>
<p>Kita ambil semua kolom sebagai fitur kecuali kolom Status yang menjadi target klasifikasi.
Status berisi dua kelas: “C” (hidup) dan “D” (meninggal). Kita perlu mengubahnya ke format numerik agar bisa diproses oleh model.</p>
<p><strong>Tahap 2: Encode Target Variabel</strong></p>
<p>Karena Naive Bayes memerlukan nilai numerik, kita ubah nilai target Status:</p>
<p>“C” → 0 (Hidup)</p>
<p>“CL” → 01 (Tengah-tengah)</p>
<p>“D” → 1 (Meninggal)</p>
<p><strong>Tahap 3: Split Data Latih dan Uji</strong></p>
<p>Untuk mengevaluasi performa model, data dibagi menjadi dua bagian:</p>
<ul class="simple">
<li><p>80% data latih (training set)</p></li>
<li><p>20% data uji (test set)</p></li>
</ul>
<p>Ini akan memastikan model dilatih dan diuji secara adil.</p>
<p><strong>Tahap 4: Latih Model Naive Bayes</strong></p>
<p>Kita gunakan algoritma Gaussian Naive Bayes, cocok untuk data numerik yang sudah dinormalisasi.
Naive Bayes mengasumsikan bahwa setiap fitur bersifat independen dan mengikuti distribusi Gaussian (normal), yang masih cukup baik untuk banyak kasus klasifikasi.</p>
<p><strong>Tahap 5: Lakukan Prediksi pada Data Uji</strong></p>
<p>Model akan digunakan untuk memprediksi apakah pasien akan hidup atau meninggal berdasarkan data uji.</p>
<p><strong>Tahap 6: Evaluasi Model</strong></p>
<p>Kita evaluasi hasil prediksi dengan:</p>
<ul class="simple">
<li><p>Confusion Matrix</p></li>
<li><p>Classification Report: precision, recall, f1-score, dan akurasi</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># === STEP 1: Ambil dan gabungkan data ===</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">878</span><span class="p">)</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># === STEP 2: Encode kolom kategorikal ===</span>
<span class="n">df_encoded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>
<span class="n">label_encoders</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_cols</span><span class="p">:</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">df_encoded</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_encoded</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
    <span class="n">label_encoders</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span>

<span class="c1"># === STEP 3: Imputasi missing value dengan KNN ===</span>
<span class="n">imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df_imputed_array</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_encoded</span><span class="p">)</span>
<span class="n">df_imputed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_imputed_array</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_encoded</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># === STEP 4: Normalisasi semua kolom numerik ===</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">df_imputed</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">,</span> <span class="s1">&#39;int64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">df_normalized</span> <span class="o">=</span> <span class="n">df_imputed</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_imputed</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">])</span>

<span class="c1"># === STEP 5: Deteksi dan hapus outlier dengan LOF ===</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Deteksi Outlier dengan LOF ===&quot;</span><span class="p">)</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">X_numeric</span> <span class="o">=</span> <span class="n">df_normalized</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span>
<span class="n">y_pred_lof</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X_numeric</span><span class="p">)</span>
<span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred_lof</span>
<span class="n">outlier_count</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah data outlier (LOF): </span><span class="si">{</span><span class="n">outlier_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Hapus outlier</span>
<span class="n">df_no_outlier_lof</span> <span class="o">=</span> <span class="n">df_normalized</span><span class="p">[</span><span class="n">df_normalized</span><span class="p">[</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;LOF_outlier&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data setelah hapus outlier:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_no_outlier_lof</span><span class="p">))</span>

<span class="c1"># === STEP 6: Modelling Naive Bayes ===</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Modelling dengan Naive Bayes ===&quot;</span><span class="p">)</span>
<span class="c1"># Pisahkan fitur dan target</span>
<span class="n">X_final</span> <span class="o">=</span> <span class="n">df_no_outlier_lof</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">])</span>
<span class="n">y_final</span> <span class="o">=</span> <span class="n">df_no_outlier_lof</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span>

<span class="c1"># Encode target (Status)</span>
<span class="n">le_status</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">le_status</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_final</span><span class="p">)</span>

<span class="c1"># Split train-test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_final</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_encoded</span>
<span class="p">)</span>

<span class="c1"># Train model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Classification Report:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Confusion Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Deteksi Outlier dengan LOF ===
Jumlah data outlier (LOF): 21
Jumlah data setelah hapus outlier: 397

=== Modelling dengan Naive Bayes ===
Akurasi: 0.775

Classification Report:
               precision    recall  f1-score   support

           0       0.75      0.95      0.84        43
           1       0.00      0.00      0.00         5
           2       0.88      0.66      0.75        32

    accuracy                           0.78        80
   macro avg       0.54      0.54      0.53        80
weighted avg       0.75      0.78      0.75        80


Confusion Matrix:
 [[41  1  1]
 [ 3  0  2]
 [11  0 21]]
</pre></div>
</div>
</div>
</div>
<section id="perbandingan-dengan-metode-knn-dan-decision-tree">
<h4><strong>Perbandingan dengan metode KNN dan decision Tree</strong><a class="headerlink" href="#perbandingan-dengan-metode-knn-dan-decision-tree" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># === MODEL: Decision Tree ===</span>
<span class="n">model_dt</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model_dt</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_dt</span> <span class="o">=</span> <span class="n">model_dt</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Evaluasi Decision Tree ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">,</span> <span class="n">zero_division</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi Prediksi:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">y_pred_dt</span><span class="p">))</span>
<span class="n">cm_dt</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm_dt</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Confusion Matrix - Decision Tree&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Predicted&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Actual&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># === MODEL: K-Nearest Neighbors (KNN) ===</span>
<span class="n">model_knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">model_knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_knn</span> <span class="o">=</span> <span class="n">model_knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Evaluasi KNN (k=5) ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">,</span> <span class="n">zero_division</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi Prediksi:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">y_pred_knn</span><span class="p">))</span>
<span class="n">cm_knn</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm_knn</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Confusion Matrix - KNN&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Predicted&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Actual&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Evaluasi Decision Tree ===
Akurasi: 0.7125
              precision    recall  f1-score   support

           0       0.74      0.81      0.78        43
           1       0.20      0.20      0.20         5
           2       0.75      0.66      0.70        32

    accuracy                           0.71        80
   macro avg       0.56      0.56      0.56        80
weighted avg       0.71      0.71      0.71        80

Distribusi Prediksi: [47  5 28]
</pre></div>
</div>
<img alt="_images/2f3ff934dc8b101bc2364fd3a96561913a29f43452bf5cfbace643179689e933.png" src="_images/2f3ff934dc8b101bc2364fd3a96561913a29f43452bf5cfbace643179689e933.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Evaluasi KNN (k=5) ===
Akurasi: 0.7125
              precision    recall  f1-score   support

           0       0.68      0.93      0.78        43
           1       0.00      0.00      0.00         5
           2       0.81      0.53      0.64        32

    accuracy                           0.71        80
   macro avg       0.50      0.49      0.48        80
weighted avg       0.69      0.71      0.68        80

Distribusi Prediksi: [59  0 21]
</pre></div>
</div>
<img alt="_images/eab108d187a29845a613ef3cf2bec46ee2f3fd1722c41069c186759e0953687a.png" src="_images/eab108d187a29845a613ef3cf2bec46ee2f3fd1722c41069c186759e0953687a.png" />
</div>
</div>
</section>
</section>
</section>
<section id="evaluasi">
<h2><strong>Evaluasi</strong><a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h2>
<p>setelah kita melakukan modelling data menggunakan naive bayes, KNN dan DecisionTree proses selanjutnya yaitu evaluasi keseluruhan hasil perbandingan yang telah dilakukan.</p>
<p>✅ <strong>Hasil perbandingan</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Model</strong></p></th>
<th class="head"><p><strong>Akurasi</strong></p></th>
<th class="head"><p><strong>Precision (Macro)</strong></p></th>
<th class="head"><p><strong>Recall (Macro)</strong></p></th>
<th class="head"><p><strong>F1-Score (Macro)</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Naive Bayes</p></td>
<td><p>0.775</p></td>
<td><p>0.54</p></td>
<td><p>0.54</p></td>
<td><p>0.53</p></td>
</tr>
<tr class="row-odd"><td><p>Decision Tree</p></td>
<td><p>0.7125</p></td>
<td><p>0.56</p></td>
<td><p>0.56</p></td>
<td><p>0.56</p></td>
</tr>
<tr class="row-even"><td><p>KNN (k = 5)</p></td>
<td><p>0.7125</p></td>
<td><p>0.50</p></td>
<td><p>0.49</p></td>
<td><p>0.48</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="UTSPendataE.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Mengistall Pandas terlebih dahulu</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="UAS.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><strong>Prediksi Risiko Kesehatan Ibu Hamil</strong></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendahuluan"><strong>Pendahuluan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding"><strong>Data Understanding</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-data"><strong>Sumber Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengumpulkan-data-awal"><strong>Mengumpulkan data awal</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeskripsikan-data"><strong>Mendeskripsikan data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ekplorasi-data"><strong>Ekplorasi Data</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data"><strong>Preprocessing Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-menggunakan-knn-atau-model"><strong>Imputasi Menggunakan KNN atau Model</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi"><strong>Normalisasi</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengatasi-data-outlier-menggunakan-lof"><strong>Mengatasi data Outlier menggunakan LOF</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-data"><strong>Modelling data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-menggunakan-metode-naive-bayes"><strong>klasifikasi Menggunakan Metode Naive bayes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-dengan-metode-knn-dan-decision-tree"><strong>Perbandingan dengan metode KNN dan decision Tree</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi"><strong>Evaluasi</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>